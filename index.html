<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  
  <!-- SEO Meta Tags -->
  <title>Философский тест: Узнайте свое мировоззрение за 40 вопросов</title>
  <meta name="description" content="Пройдите бесплатный философский тест из 40 вопросов и узнайте свое мировоззрение: экзистенциализм, стоицизм, гедонизм и другие направления. Получите детальный анализ и индекс смыслоориентации." />
  <meta name="keywords" content="философский тест, тест на мировоззрение, экзистенциализм, стоицизм, философия онлайн, психологический тест, узнать свою философию" />
  <meta name="author" content="Философский тест" />
  <link rel="canonical" href="https://your-domain.netlify.app/" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://your-domain.netlify.app/" />
  <meta property="og:title" content="Философский тест: Узнайте свое мировоззрение" />
  <meta property="og:description" content="Пройдите тест из 40 вопросов и узнайте, какая философия соответствует вашему мышлению. Экзистенциализм, стоицизм, гедонизм и другие направления." />
  <meta property="og:image" content="https://your-domain.netlify.app/og-image.jpg" />
  <meta property="og:locale" content="ru_RU" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="https://your-domain.netlify.app/" />
  <meta property="twitter:title" content="Философский тест: Узнайте свое мировоззрение" />
  <meta property="twitter:description" content="40 вопросов для определения вашей философии жизни" />
  <meta property="twitter:image" content="https://your-domain.netlify.app/og-image.jpg" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  <!-- jsPDF для экспорта в PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <!-- Альтернатива: pdfmake с поддержкой кириллицы (РЕКОМЕНДУЕТСЯ) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  
  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Quiz",
    "name": "Философский тест на мировоззрение",
    "description": "Тест из 40 вопросов для определения вашего философского мировоззрения",
    "author": {
      "@type": "Organization",
      "name": "Философский тест"
    },
    "educationalLevel": "Взрослые",
    "inLanguage": "ru",
    "hasPart": [
      {
        "@type": "Question",
        "eduQuestionType": "Multiple choice",
        "text": "Философские и мировоззренческие вопросы"
      }
    ],
    "typicalAgeRange": "18-",
    "timeRequired": "PT10M"
  }
  </script>

  <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="light">
  <header class="fixed-header" role="banner">
    <div class="header-inner">
      <div class="title">Философский тест — 40 вопросов</div>
      <div class="progress-wrap" aria-hidden="false">
        <div class="progress" aria-hidden="true"><div class="bar" id="globalProgressBar"></div></div>
        <div class="small" id="progressText">0 / 40</div>
      </div>
      <div class="controls">
        <button id="themeToggle" class="btn ghost" title="Переключить тему">Тема</button>
        <button id="openSummary" class="btn" title="Показать все ответы">Просмотр ответов</button>
      </div>
    </div>
  </header>

  <div class="wrap">
    <main class="card" role="main">
      <form id="quizForm" novalidate>
        <div id="demographicsArea"></div>
        <div id="questionsArea" style="margin-top:12px;"></div>

        <div class="nav-row">
          <div class="nav-left">
            <button type="button" id="prevBtn" class="btn" disabled>Назад</button>
            <button type="button" id="nextBtn" class="btn primary">Далее</button>
            <div class="small" style="margin-left:8px;" id="qCounter">Вопрос 1 / 40</div>
          </div>
          <div class="nav-right">
            <button type="button" id="showAllBtn" class="btn">Показать все</button>
            <button type="button" id="calcBtn" class="btn primary">Посчитать результат</button>
            <button type="reset" id="resetBtn" class="btn">Сбросить</button>
          </div>
        </div>
      </form>

      <div id="result" aria-live="polite"></div>
    </main>
  </div>

  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true">
    <div class="modal" id="modal">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <h3>Все ответы</h3>
        <div style="display:flex;gap:8px;">
          <button id="closeModal" class="btn">Закрыть</button>
        </div>
      </div>
      <div id="modalContent"></div>
    </div>
  </div>

  <!-- Подключаем все JS файлы -->
  <script src="data.js"></script>
  <script src="analytics.js"></script>
  <script src="export.js"></script>
  <script src="storage.js"></script>
  <script src="results-sender.js"></script>
  <script src="main.js"></script>
  
  <!-- Скрытая форма для Netlify Forms (для отправки результатов) -->
  <form name="test-results" netlify netlify-honeypot="bot-field" hidden>
    <input type="text" name="philosophy" />
    <input type="text" name="subtype" />
    <input type="text" name="meaningIndex" />
    <input type="text" name="description" />
    <input type="text" name="age" />
    <input type="text" name="gender" />
    <input type="text" name="education" />
    <input type="text" name="population" />
    <input type="text" name="field" />
    <input type="text" name="religion_ident" />
    <input type="text" name="timestamp" />
    <input type="text" name="url" />
  </form>
</body>
</html>
